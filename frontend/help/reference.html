<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Footprint Search API Reference Guide</title>
</head>

<body>
<h1>Footprint Search API Reference Guide</h1>
<h2>Introduction</h2>
<p>The Footrprint Search application programming interface (API) allows client applications to retrieve and view the content of <a href="http://servicefootprint.appspot.com/http://servicefootprint.appspot.com/">http://servicefootprint.appspot.com/</a>, which collects and presents volunteer opportunities posted to numerous, disparate sites. Your client application can use the Footrprint Search API to request a list of volunteer opportunities using a number of parameters documented here.</p>
<h2>Contents</h2>
<p><a href="#Audience">Audience</a></p>
<p><a href="#Access">Access</a></p>
<p><a href="#Parameters">Query parameters</a></p>
<p><a href="#Formats">Output formats</a></p>
<p><a href="#Examples">Examples</a></p>
<p><a href="#Elements">Elements</a></p>
<p><a href="#Notes">Miscellaneous notes</a></p>
<p><a href="#Resources">Further resources</a></p>
<h2 id="Audience">Audience</h2>
<p>This document is intended for programmers who want to write client applications that can interact with Footprint, an open source aggregator of volunteer opportunities. It provides reference documentation for using the Footprint Search API.</p>
<p>This document doesn't contain information about the programming-language client libraries. For client-library reference information, see related programming-language-specific guides.</p>
<h2 id="Access">Access</h2>
<p>The Footprint Search API is available at:<br />
  <a href="http://servicefootprint.appspot.com/api/volopps">http://servicefootprint.appspot.com/api/volopps</a></p>
<p>As a <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a>-based API, Footprint provides all output over HTTP at distinct <a href="Uniform_Resource_Identifier">URIs</a>, which makes it easy to test applications with browsers and command-line web clients. Footprint contains listings of volunteer opportunities, which today are defined as events (offline or online), optionally containing locations and start-end times.</p>
<p>In their simplest form, listings have just a title, description and basic contact, time and location information.  In their fullest form, listings can contain dozens of detailed fields, as described in the <a href="#Elements">Elements</a> section and associated <a href="http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.html">specification</a>. Because of the short lifespan of these posts, there is little point in storing results.</p>
<h2 id="Parameters">Query parameters</h2>
<p>Footprint uses <a href="http://code.google.com/apis/gdata/docs/2.0/reference.html#Queries">Google conventions on query parameters</a>, , e.g. q=... is used for keyword search, num= specifies the number of results and start= sets offset for pagination.</p>
<p>The syntax for API calls requires following the aforementioned Footprint Search API URL (<a href="http://servicefootprint.appspot.com/api/volopps">http://servicefootprint.appspot.com/api/volopps</a>) with a question mark (?) and then a parameter name, equal sign (=), and value. Here's the syntax for constructing API calls:<br />
  <code>http://servicefootprint.appspot.com/api/volopps?<em>parameter_name</em>=<em>value</em></code></p>
<p>For instance, a query for location would use the vol_loc parameter and resemble:<br />
<code>http://footprint2009dev.appspot.com/api/volopps?vol_loc=<em>City</em>+<em>Name</em>,<em>STATEABBREV</em></code></p>
<p>Multiple parameter and value combinations may be included in a single call by joining them with an ampersand(&amp;), like so:<br />
<code>http://servicefootprint.appspot.com/api/volopps?<em>parameter_name1</em>=<em>value</em>&amp;<em>parameter_name2</em>=<em>value</em></code></p>
<p>The Footprint Data API supports the following query parameters:<br />
</p>
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Meaning</th>
      <th>Values</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>num</code></td>
      <td>The number of results to return.</td>
      <td><p>Default value: 10</p>
      <p>Expected values: any integer</p></td>
    </tr>
    <tr>
      <td><code>output</code></td>
      <td><p>The output format for presenting the results.</p>
      <p><strong>Important</strong>: This parameter is required for all uses other than debugging. Append the Footprint Search API URI with <code>&amp;output=rss</code> to receive the output in a machine-readable format. See the<em> <a href="#Formats">Output formats</a></em> section for additional details.</p></td>
      <td><p>Default value: html (This should be used only for debugging and otherwise overridden with another format, such as RSS, for production use.)</p>
      <p>Expected values: rss</p></td>
    </tr>
    <tr>
      <td><code>provider</code></td>
      <td>The provider of the volunteer opportunity, meaning the site or organization posting the event description. </td>
      <td><p>Default value: all providers</p>
      <p>Expected values: the codename for any of the current providers, such as usaservice.org, craigslist.org, networkforgood, idealist.org, HandsOn Network, and volunteermatch.org</p></td>
    </tr>
    <tr>
      <td><code>q</code></td>
      <td>The keyword search string, which offers support for most Google features.</td>
      <td><p>Default value: none</p>
      <p>Expected values: any string,  including quoted phrases (&quot;term&quot;) , and exclusions (-excluded_term)</p></td>
    </tr>
    <tr>
      <td><code>start</code></td>
      <td>The starting page offset for search results.</td>
      <td><p>Default value: 1</p>
      <p>Expected value: any integer between 1 and 999</p></td>
    </tr>
    <tr>
      <td><code>vol_dist</code></td>
      <td>Maximum distance from center point, in miles. <strong>Important</strong>: Requires vol_loc be set.</td>
      <td><p>Default value: null</p>
      <p>Expected value: any integer between 1 and 99</p></td>
    </tr>
    <tr>
      <td><code>vol_loc</code></td>
      <td>The center point for geographic-based searches.</td>
      <td><p>Default value: null</p>
      <p>Expected values: comma-separated string of the location consisting of address (or intersection), city and state, just city and state, a landmark, or numeric coordinates, expressed as either <code><em>City</em>+<em>Name</em>,<em>STATEABBREV</em></code> or<code><em> latitude</em>,<em>longitude</em></code>.</p></td>
    </tr>
    <tr>
      <td><code>vol_enddate</code></td>
      <td>The last or final date of volunteer opportunities returned.</td>
      <td><p>Default value: the numeric equivalent of 1000 days from today</p>
      <p>Expected values: Any (future) date in the form: YYYY-MM-DD</p></td>
    </tr>
    <tr>
      <td><code>vol_startdate</code></td>
      <td>The first or earliest date of volunteer opportunities returned.</td>
      <td><p>Default value: the numeric equivalent of tomorrow</p>
      <p>Expected values: Any (future) date in the form: YYYY-MM-DD</p></td>
    </tr>
  </tbody>
</table>
<h2 id="Formats">Output formats</h2>
<p>The Footprint Search API provides its output in the following formats:</p>
<p><strong>RSS</strong> - A machine-readable format that is currently recommended for all  uses other than debugging. You can specify this setting by appending the API call with: <code>&amp;output=rss</code></p>
<p><strong>HTML</strong> - A  human-readable format that's currently dedicated to debugging. This is the default and will appear whenever you load the API without the output parameter and can be manually set with: <code>&amp;output=html</code></p>
<p>In addition, many more output formats are planned, including XML (FPXML), xSV (comma, tab, etc. separated values) and more. Ask <a href="mailto:footprint-eng@googlegroups.com">us</a> and we'll quickly provide them. Return to this page or visit the <a href="http://code.google.com/p/footprint2009dev/">Footprint project site</a> for <a href="http://code.google.com/p/footprint2009dev/updates/list">updates</a>.</p>
<h2 id="Examples">Examples</h2>
<p>Here are some example queries made against the Footprint Search API to help you see how the API works. We've appended <code>&amp;output=rss</code> to each query to get machine-readable output.</p>
<p>Listings near San Francisco:<br />
  <a href="http://servicefootprint.appspot.com/api/volopps?vol_loc=San+Francisco,CA&amp;output=rss">http://servicefootprint.appspot.com/api/volopps?vol_loc=San+Francisco,CA&amp;output=rss</a><br />
  </p>
<p>Listings within 10 miles of 94703:<br />
<a href="http://servicefootprint.appspot.com/api/volopps?q=park&amp;vol_loc=94703&amp;vol_dist=10&amp;output=rss">http://servicefootprint.appspot.com/api/volopps?q=park&amp;vol_loc=94703&amp;vol_dist=10&amp;output=rss</a></p>
<p>Listings near a particular latitude and longitude:<br />
  <a href="http://servicefootprint.appspot.com/api/volopps?q=park&amp;vol_loc=37.8524741,-122.2738958&amp;output=rss">http://servicefootprint.appspot.com/api/volopps?q=park&amp;vol_loc=37.8524741,-122.2738958&amp;output=rss</a></p>
<p>Up to 50 listings containing the term &quot;park&quot;:<br />
  <a href="http://servicefootprint.appspot.com/api/volopps?q=park&amp;num=50&amp;output=rss">http://servicefootprint.appspot.com/api/volopps?q=park&amp;num=50&amp;output=rss</a></p>
<p>Park listings starting May 10th or later:<br />
<a href="http://servicefootprint.appspot.com/api/volopps?q=park&amp;vol_startdate=2009-05-10&amp;output=rss">http://servicefootprint.appspot.com/api/volopps?q=park&amp;vol_startdate=2009-05-10&amp;output=rss</a></p>
<h2 id="Elements">Elements</h2>
<p>Footprint stores one record per location, i.e. if an event has multiple locations, there's one record per location.  Likewise, for repeated events, we store one record per timerange. These elements are described in the Footprint XML specification for data received from providers here:<br />
  <a href="http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.xsd">http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.xsd</a><br />
<a href="http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.html">http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.html</a></p>
<p>TODO: Publish at least the above HTML file outside of the SVN source view to ease readibility, like so:<br />
  <a href="Footprint_XML_spec.html">Footprint_XML_spec.html</a><br />
</p>
<h2 id="Notes">Miscellaneous notes</h2>
<p>maximum results.  As with most search engines, we have limits on the number of result records, both per query (999) and total (TBD).<br />
  Please ask us if you need to download all results, and explain why.<br />
  ranking / sorting.  Record sorting ('ranking') is hardcoded right now, but it's pretty easy to add new sorting functions-- please ask us.<br />
  keyword stemming/plurals/etc.  We use Google's search engine as the underlying provider for keyword queries, so it should match<br />
  alternate word forms.  As with all search engines, please don't rely on this-- and don't hesitate to file bugs with us if you don't get<br />
  expected behavior.<br />
  keyword queries on various fields.  q= queries all fields.  There's no way to restrict to fewer fields.<br />
  skills field.  Due to the data from providers, the skills field is unstructured, i.e. can't run restriction-searches on it.  Sorry!<br />
  repeated URL parameters.  If multiple URL parameters are provided, we take the last of them, e.g. &amp;cats=foo&amp;cats=bar is the same as &amp;cats=bar.<br />
  querying on the skills field.  Not supported beyond : keyword search only (providers only have longhand descriptions).<br />
  unknown URL parameters.  Unknown args result in an error-- HTTP 404 with custom error msg.<br />
  bookmarking query URLs.  Yes, you may bookmark query URLs including emailing them, linking to them, etc.<br />
  caching results.  Yes, you may cache results for at least 1 hour.  Please contact us if you want to cache for longer.<br />
HTTP compressed output.  We can probably add this if you need-- please ask and explain why. </p>
<h2 id="Resources">Further resources</h2>
<h3>XML Specification</h3>
<p> <a href="http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.xsd">http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.xsd</a><a href="http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.html"><br />
http://code.google.com/p/footprint2009dev/source/browse/trunk/spec/spec0.1.html</a></p>
<h3>Live application site</h3>
<p><a href="http://servicefootprint.appspot.com/">http://servicefootprint.appspot.com/</a></p>
<h3>Development site</h3>
<p><a href="http://footprint2009dev.appspot.com/">http://footprint2009dev.appspot.com/</a></p>
<h3>Team site</h3>
<p><a href="https://sites.google.com/site/footprintorg/">https://sites.google.com/site/footprintorg/</a></p>
<h3>Project site</h3>
<p><a href="http://code.google.com/p/footprint2009dev/">http://code.google.com/p/footprint2009dev/</a></p>
<h3>Bugs and feature requests</h3>
<p><a href="http://code.google.com/p/footprint2009dev/issues/list">http://code.google.com/p/footprint2009dev/issues/list</a></p>
<p>API issues: <a href="http://code.google.com/p/footprint2009dev/issues/detail?id=36">http://code.google.com/p/footprint2009dev/issues/detail?id=36</a></p>
<h3>Source code</h3>
<p><a href="http://code.google.com/p/footprint2009dev/source/browse/trunk/">http://code.google.com/p/footprint2009dev/source/browse/trunk/</a></p>
<h3>Team email address</h3>
<p><a href="mailto:footprint-eng@googlegroups.com">footprint-eng@googlegroups.com</a></p>
</body>
</html>
